# 挨拶

自宅のLAN回線が不安定で、FF14やるとラーーーーーーグーーーーーーーい！
そんなあなたにスマホでテザリングすることをオススメ！

FF14は通信量が物凄く少ないが、回線の安定性を求めます。
その点で自宅のLAN回線はプロバイダーによっては集中アクセス時期はパケロスが酷くて向いてません。
スマホのテザリングはパケロスがほとんどなくて、接続が安定的なので、快適なゲーム体験に向いてます。

ただ、テザリングだとバケ死が心配…かと思いますが、

FF14だけテザリングを通すように設定しましょう！

動画やDiscordは自宅LAN回線を通しましょう！

# どうやって設定する？

環境：Windows （他は分かりません…

仕組みは単純で、ようは  Windows の接続優先順位を決める Metric 意図的に調整します。
テザリング接続が使われないように Metric を最大値に設定して、route 設定で ff14 への接続を強制的にテザリング接続させる。

# なにこれ？

実現手段は簡単だが、テザリングのIPがころころ変わったり、FF14への接続がテザリングを通しているのかが不安だったりするので…、このスクリプトの出番です！

ff14 へのアクセスだけテザリング回線で繋げて、そのたネット接続は有線ケーブルを通すように route 設定を補助的に行ってくれるスクリプト。

# 使い方

`check14connect.ps1`を PowerShell で実行するだけ。

そんで、コマンドログを見て操作するだけ。

中身としては下記動きとなる

- ff14 への接続をテザリング通すように route 設定されているかを確認する
  - 設定されてなければ、設定する（管理者権限必要なので、設定実施前に確認を求める）
- ff14 への接続がテザリングを通しているのかを確認する
  - 接続されていなければ 10秒後に再チェックする

# 注意事項

- 作成者は Gaia 住民なので、Gaia でしたテストしていない。
  DCによってはスクリプト内の IP や正規表現を書き換える必要があるかもしれない。
- ff14 以外は有線ケーブルに繋がるように metric を最大値（9999？）に設定しましょう。
  設定方法は「windows metric 変更」でググればいっぱいあるはず。
- Windows のセキュリティ設定によってはダウンロードしたパワーシェルスクリプトは実行できない可能性があるので、その場合はスクリプトの中身をテキストファイルに貼り付けて、同じ名前で名前変更すれば自作スクリプトになって使えるはず。